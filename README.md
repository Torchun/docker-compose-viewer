# Docker Compose HTML Viewer

Этот скрипт — это простой веб-интерфейс для визуализации сервисов из `docker-compose.yml` и других YAML-файлов. 

Он рекурсивно ищет файлы в указанной директории, парсит конфигурацию сервисов и отображает данные в виде удобной HTML-таблицы.

## Возможности

- Поиск YAML-файлов с описанием Docker Compose
- Отображение сведений о сервисах:
  - Имя сервиса
  - Имя контейнера
  - Политика рестарта
  - Проброшенные порты и HTTP-ссылки
  - Томы (volumes)
  - Переменные окружения
- Автоматическое создание HTTP-ссылок для портов, если указан IP

## Установка

Убедитесь, что у вас установлен Python 3.6+ и Flask:

```bash
pip install -r requirements.txt
```

## Использование

```bash
python3 docker_compose_viewer.py [options]
```

### Пример

```bash
python3 docker_compose_viewer.py -d ./examples -H 0.0.0.0 -p 8888 -s 192.168.1.70
```

Это запустит сервер на `http://0.0.0.0:8888`, который будет искать YAML-файлы в папке `./examples`, и использовать IP `192.168.1.70` для генерации HTTP-ссылок на сервисы.

---

## Аргументы командной строки

| Параметр        | Длинная форма    | Тип      | Обязательный | Значение по умолчанию | Описание |
|----------------|------------------|----------|---------------|------------------------|----------|
| `-d`           | `--dir`          | `str`    | Нет           | `.`                    | Папка, в которой будут рекурсивно искаться `.yaml` и `.yml` файлы |
| `-H`           | `--host`         | `str`    | Нет           | `0.0.0.0`              | Хост, на котором запустить Flask-сервер |
| `-p`           | `--port`         | `int`    | Нет           | `8888`                 | Порт, на котором запустить Flask-сервер |
| `-s`           | `--service-ip`   | `str`    | Нет           | Значение `--host`      | IP-адрес, который будет использоваться для генерации HTTP-ссылок к сервисам |

---

## Формат входных файлов

Скрипт поддерживает стандартные `docker-compose` YAML-файлы. Пример:

```yaml
services:
  web:
    container_name: webapp
    restart: always
    ports:
      - "8080:80"
    volumes:
      - ./src:/app
    environment:
      - DEBUG=1
      - PORT=80
```

---

## Интерфейс

Веб-интерфейс отображает:

- Имя сервиса
- Имя контейнера
- Политику рестарта
- Ссылки (если указан IP и проброшены порты)
- Порты (в формате `host → container`)
- Томы (в формате `host → container`)
- Переменные окружения (в виде списка)

---

## Заметки

- Ссылки в колонке "Links" генерируются только для проброшенных портов, если указан IP (`--service-ip`).
- Все порты, переменные и тома отображаются как есть, в том числе в случае сложных форматов.